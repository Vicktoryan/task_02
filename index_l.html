<script type="text/javascript">



// var func1 = function(obj){
// 	this.obj = obj;
// 	console.log(this)
// };

// var deleteData = function(){

// }

// func1.prototype.obj = [];

// func1.prototype.getData = function (){
// 	return this.obj;
// }

// func1.prototype.setData = function(obj){
// 	this.obj = obj;
// }

// func1.prototype.addData = function(obj){
// 	this.obj.push(obj);
// }
// //func1.prototype.getData = getData;

// var test = new func1([{a: 2}]);

// console.log(test.getData());

// test.setData([{
// 	abc0: '1',
// 	abc1: '2'
// }, {
// 	abc0: '4',
// 	abc1: '5'
// }]);

//test.addData({a: 'g'});

var method = function() {
	var m = this;
	return {
		getDataForKey: function(key){
			return m.obj[key];
		},

		getData: function(){
			return m.obj;
		},

		addData: function(object){
			for(key in object){
				console.log(key, object);
				m.obj[key] = object[key];
			}
		},

		removeCustomer: function(customer){
			m.obj.customer.splice(customer, 1);
		},


		addCustomer: function(){
			var index = m.obj.customer.push({
				name: '',
				id: new Date().getTime()
			});
			return m.obj.customer[index-1];
		}
	};
}

//Object.prototype.f = method;

var data = [{
	id: '1',
	customer: []
}, {
	id: '2',
	customer: []
}];

var nData = [];
data.forEach(function(_d){
	nData.push({
		obj: _d,
		f: method
	});
});

data = nData;
console.log(data[1].obj);

data[0].f().addData({
	items: data[1].obj
});

var custom = data[0].f().addCustomer();
var custom1 = data[0].f().addCustomer();
var custom2 = data[0].f().addCustomer();
var custom3 = data[0].f().addCustomer();

// data[0].f().addData({
// 	names: [{
// 		var: 1,
// 		var2: 2,
// 		var3: [{
// 			abc: 2
// 		}]
// 	}]
// });

console.log(data);

data[0].f().removeCustomer(custom2);


console.log(data);
//console.log(data[0].f().getData());

//console.log(data[0].f());// === data[1].f());

//console.log(data);//test.getData());
/*
var subData =

var data = [{
	func: new func1;
}]
*/
</script>